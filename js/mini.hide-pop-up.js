var smallMap=document.querySelector(".small-map"),largeMap=document.querySelector(".large-map"),closeMap=document.querySelector(".pop-close.map");smallMap.addEventListener("click",function(e){e.preventDefault(),largeMap.classList.toggle("hide")}),closeMap.addEventListener("click",function(e){e.preventDefault(),largeMap.classList.toggle("hide")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(largeMap.classList.contains("hide")||(e.preventDefault(),largeMap.classList.add("hide")))});var feedbackForm=document.querySelector(".feedback-form"),sendMail=document.querySelector(".mail"),closeMail=document.querySelector(".pop-close.no-mail"),userName=document.querySelector("#pop-user-name"),userEmail=document.querySelector("#pop-user-email"),message=document.querySelector("#pop-user-message"),form=document.querySelector(".write-us"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("user"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}sendMail.addEventListener("click",function(e){e.preventDefault(),feedbackForm.classList.toggle("hide"),storageName&&storageEmail?(userName.value=storageName,userEmail.value=storageEmail,message.focus()):userName.focus()}),form.addEventListener("submit",function(e){userName.value&&userEmail.value&&message.value?isStorageSupport&&(localStorage.setItem("user",userName.value),localStorage.setItem("email",userEmail.value)):(e.preventDefault(),feedbackForm.classList.remove("pop-error"),feedbackForm.offsetWidth,feedbackForm.classList.add("pop-error"))}),closeMail.addEventListener("click",function(e){e.preventDefault(),feedbackForm.classList.toggle("hide"),feedbackForm.classList.remove("pop-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(feedbackForm.classList.contains("hide")||(e.preventDefault(),feedbackForm.classList.add("hide"),feedbackForm.classList.remove("pop-error")))});